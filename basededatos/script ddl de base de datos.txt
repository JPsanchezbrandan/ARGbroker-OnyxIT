-- Crear la tabla Usuario con la columna saldo
CREATE TABLE Usuario (
id_usuario INT PRIMARY KEY AUTO_INCREMENT,
nombre VARCHAR(50),
apellido VARCHAR(50),
cuil VARCHAR(20) UNIQUE,
email VARCHAR(100),
contrase√±a VARCHAR(255),
saldo FLOAT DEFAULT 0
);

-- Crear la tabla Accion
CREATE TABLE Accion (
id_accion INT PRIMARY KEY AUTO_INCREMENT,
simbolo VARCHAR(10) UNIQUE,
nombre_empresa VARCHAR(100),
ultimo_precio FLOAT,
cant_compra_diaria INT,
cant_venta_diaria INT
);

-- Crear la tabla Cotizacion_Historica
CREATE TABLE Cotizacion_Historica (
id_cotizacion INT PRIMARY KEY AUTO_INCREMENT,
id_accion INT,
fecha DATE,
precio_compra FLOAT,
precio_venta FLOAT,
FOREIGN KEY (id_accion) REFERENCES Accion(id_accion)
);

-- Crear la tabla Transaccion
CREATE TABLE Transaccion (
id_transaccion INT PRIMARY KEY AUTO_INCREMENT,
id_usuario INT,
id_accion INT,
fecha DATETIME,
tipo_operacion ENUM('COMPRA', 'VENTA'),
cantidad_acciones INT,
precio_operacion FLOAT,
comision FLOAT,
FOREIGN KEY (id_usuario) REFERENCES Usuario(id_usuario),
FOREIGN KEY (id_accion) REFERENCES Accion(id_accion)
);

-- Crear la tabla Portafolio
CREATE TABLE Portafolio (
id_portafolio INT PRIMARY KEY AUTO_INCREMENT,
id_usuario INT,
id_accion INT,
cantidad_acciones INT,
precio_compra FLOAT,
FOREIGN KEY (id_usuario) REFERENCES Usuario(id_usuario),
FOREIGN KEY (id_accion) REFERENCES Accion(id_accion)